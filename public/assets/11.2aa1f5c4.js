(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{404:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(0),o=t.n(n),i=t(50),s=t(165),c=t(52),l=t(263),d=t(51),m=t(153),u=t(168),p=t(186),v=t(187),h=t(156),g=t(228),w=t(194);const b=["minecraft 1.17 requires running the server with java 16 or above","minecraft 1.18 requires running the server with java 17 or above","java.lang.unsupportedclassversionerror","unsupported major.minor version","has been compiled by a more recent version of the java runtime"];a.default=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(!1),[c,d]=Object(n.useState)(""),k=i.a.useStoreState((e=>e.server.data.uuid)),C=i.a.useStoreState((e=>e.status.value)),{clearFlashes:x,clearAndAddHttpError:V}=Object(m.a)(),{instance:I}=i.a.useStoreState((e=>e.socket)),{data:J,isValidating:T,mutate:F}=Object(g.a)(k,null,{revalidateOnMount:!1});Object(n.useEffect)((()=>{e&&F().then((e=>{d(Object.values((null==e?void 0:e.dockerImages)||[])[0]||"")}))}),[e]),Object(v.a)(u.a.CONSOLE_OUTPUT,(e=>{"running"!==C&&b.some((a=>e.toLowerCase().includes(a.toLowerCase())))&&a(!0)}));return Object(n.useEffect)((()=>{x("feature:javaVersion")}),[]),o.a.createElement(s.b,{visible:e,onDismissed:()=>a(!1),closeOnBackground:!1,showSpinnerOverlay:t},o.a.createElement(y,{key:"feature:javaVersion"}),o.a.createElement(f,null,"Unsupported Java Version"),o.a.createElement(j,null,"This server is currently running an unsupported version of Java and cannot be started.",o.a.createElement(h.a,{action:"startup.docker-image"},"Â Please select a supported version from the list below to continue starting the server.")),o.a.createElement(h.a,{action:"startup.docker-image"},o.a.createElement(O,null,o.a.createElement(w.a,{visible:!J||T},o.a.createElement(p.a,{disabled:!J,onChange:e=>d(e.target.value)},J?Object.keys(J.dockerImages).map((e=>o.a.createElement("option",{key:e,value:J.dockerImages[e]},e))):o.a.createElement("option",{disabled:!0}))))),o.a.createElement(_,null,o.a.createElement(S,{isSecondary:!0,onClick:()=>a(!1)},"Cancel"),o.a.createElement(h.a,{action:"startup.docker-image"},o.a.createElement(E,{onClick:()=>{r(!0),x("feature:javaVersion"),Object(l.a)(k,c).then((()=>{"offline"===C&&I&&I.send(u.b.SET_STATE,"restart"),a(!1)})).catch((e=>V({key:"feature:javaVersion",error:e}))).then((()=>r(!1)))}},"Update Docker Image"))))};var y=Object(r.c)(d.a).withConfig({displayName:"JavaVersionModalFeature___StyledFlashMessageRender",componentId:"sc-15l9se1-0"})({marginBottom:"1rem"}),f=Object(r.c)("h2").withConfig({displayName:"JavaVersionModalFeature___StyledH",componentId:"sc-15l9se1-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))"}),j=Object(r.c)("p").withConfig({displayName:"JavaVersionModalFeature___StyledP",componentId:"sc-15l9se1-2"})({marginTop:"1rem"}),O=Object(r.c)("div").withConfig({displayName:"JavaVersionModalFeature___StyledDiv",componentId:"sc-15l9se1-3"})({marginTop:"1rem"}),_=Object(r.c)("div").withConfig({displayName:"JavaVersionModalFeature___StyledDiv2",componentId:"sc-15l9se1-4"})({marginTop:"2rem",display:"flex",flexDirection:"column",justifyContent:"flex-end","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":0,marginTop:"calc(1rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(1rem * var(--tw-space-y-reverse))"},"@media (min-width: 640px)":{flexDirection:"row","> :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":0,marginRight:"calc(1rem * var(--tw-space-x-reverse))",marginLeft:"calc(1rem * calc(1 - var(--tw-space-x-reverse)))","--tw-space-y-reverse":0,marginTop:"calc(0px * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(0px * var(--tw-space-y-reverse))"}}}),S=Object(r.c)(c.a).withConfig({displayName:"JavaVersionModalFeature___StyledButton",componentId:"sc-15l9se1-5"})({width:"100%","@media (min-width: 640px)":{width:"auto"}}),E=Object(r.c)(c.a).withConfig({displayName:"JavaVersionModalFeature___StyledButton2",componentId:"sc-15l9se1-6"})({width:"100%","@media (min-width: 640px)":{width:"auto"}})}}]);